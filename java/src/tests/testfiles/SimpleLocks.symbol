Lock out;

int program()
	-> worker1;
	-> worker2;
	-> worker3;
	-> worker4;
	
	<- 0;
.

int~ worker1()
	<- outputStuff();
.

int~ worker2()
	<- outputStuff();
.

int~ worker3()
	<- outputStuff();
.

int~ worker4()
	<- outputStuff();
.

int outputStuff()
	lock out;
	
	12345|\;
	
	unlock out;
	
	<- 0;
.